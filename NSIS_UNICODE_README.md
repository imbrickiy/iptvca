# Исправление отображения русского текста в NSIS установщике

## Проблема

Если русский текст отображается неправильно в установщике (например, вместо букв видны "крякозябры" или знаки вопроса), это означает, что используется **не-Unicode версия NSIS**.

## Решение

### Вариант 1: Использовать Unicode версию NSIS (РЕКОМЕНДУЕТСЯ)

NSIS имеет две версии компилятора:
- **makensis.exe** - Unicode версия (поддерживает русский текст) ✅
- **makensis.exe (ANSI)** - старая версия (НЕ поддерживает русский текст) ❌

**Шаги:**

1. Убедитесь, что установлена Unicode версия NSIS:
   - Современные версии NSIS по умолчанию Unicode
   - Путь к Unicode компилятору: `C:\Program Files (x86)\NSIS\makensis.exe`

2. Используйте скрипт сборки:
   ```bash
   .\build_nsis_installer.ps1
   ```
   
   Скрипт автоматически использует Unicode версию NSIS.

3. Или скомпилируйте вручную с Unicode версией:
   ```bash
   "C:\Program Files (x86)\NSIS\makensis.exe" installer.nsi
   ```

### Вариант 2: Проверка версии NSIS

Проверьте, какая версия NSIS установлена:

```powershell
# Проверка версии NSIS
& "C:\Program Files (x86)\NSIS\makensis.exe" /VERSION
```

Если выводится "NSIS 3.x" - это Unicode версия.

### Вариант 3: Ручная компиляция с Unicode версией

Если автоматический скрипт не работает:

1. Найдите файл `makensis.exe` в папке установки NSIS
2. Откройте командную строку или PowerShell
3. Выполните:
   ```bash
   "C:\Program Files (x86)\NSIS\makensis.exe" installer.nsi
   ```

## Что исправлено в скрипте

- ✅ Добавлена проверка на Unicode версию NSIS
- ✅ Скрипты автоматически используют Unicode компилятор
- ✅ Добавлены предупреждения если используется неправильная версия
- ✅ Исправлены все строки с русским текстом

## Важные замечания

1. **Unicode обязателен** - без Unicode версии NSIS русский текст не будет отображаться корректно
2. **Файл installer.nsi** должен быть сохранён в кодировке UTF-8 или UTF-8 с BOM
3. **Скрипт сборки** автоматически использует правильную версию

## Проверка результата

После компиляции установщика:
1. Запустите `IPTVCA_Setup_1.0.0.exe`
2. Проверьте, что русский текст отображается правильно:
   - "Добро пожаловать"
   - "Выберите компоненты"
   - "Выберите папку установки"
   - "Устанавливает основные файлы приложения"
   - "Создаёт ярлыки на рабочем столе и в меню Пуск"

Если текст отображается правильно - всё готово! ✅

