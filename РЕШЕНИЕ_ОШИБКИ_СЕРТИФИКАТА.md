# Решение ошибки сертификата MSIX (0x800B010A)

## Проблема
При попытке установить MSIX файл:
- ❌ Кнопка "Install" неактивна (серая)
- ❌ Появляется ошибка: "This app package's publisher certificate could not be verified. Contact your system administrator or the app developer to obtain a new app package with verified certificates. The root certificate and all immediate certificates of the signature in the app package must be verified (0x800B010A)"

## Причина
MSIX установщик подписан тестовым (самоподписанным) сертификатом, который Windows не доверяет по умолчанию. Сертификат необходимо установить в систему Windows.

## Решение (3 простых шага)

### Шаг 1: Найдите файл сертификата
Файл сертификата находится здесь:
```
build\windows\x64\runner\Release\test_certificate.pfx
```

Если файла нет, создайте установщик:
```powershell
.\build_installer.ps1
```

### Шаг 2: Установите сертификат

**Автоматическая установка (рекомендуется):**
1. Откройте PowerShell от имени администратора (правой кнопкой мыши → "Запуск от имени администратора")
2. Перейдите в папку проекта
3. Выполните:
   ```powershell
   .\install_certificate.ps1
   ```

**Ручная установка:**
1. Откройте PowerShell от имени администратора
2. Выполните:
   ```powershell
   Import-Certificate -FilePath "build\windows\x64\runner\Release\test_certificate.pfx" -CertStoreLocation Cert:\LocalMachine\TrustedPeople
   ```

### Шаг 3: Установите приложение
1. Дважды кликните на файл `iptvca.msix`
2. Кнопка "Install" теперь должна быть активна ✅
3. Нажмите "Install" для установки

## Проверка установки сертификата

Чтобы проверить, установлен ли сертификат:
```powershell
Get-ChildItem Cert:\LocalMachine\TrustedPeople | Where-Object { $_.Subject -like "*IPTVCA*" }
```

Если сертификат найден - все готово!

## Важные замечания

1. **Права администратора обязательны** - установка сертификата требует прав администратора
2. **Для каждого компьютера** - сертификат нужно устанавливать на каждом компьютере, где будет устанавливаться приложение
3. **Для продакшена** - для распространения приложения рекомендуется использовать сертификат от доверенного центра сертификации (например, для публикации в Microsoft Store)

## Альтернативные решения

Если вы не можете установить сертификат на компьютере пользователя, рассмотрите:
- Использование доверенного сертификата от центра сертификации
- Публикацию в Microsoft Store (Microsoft предоставляет сертификат)
- Создание традиционного установщика (NSIS/Inno Setup) вместо MSIX

